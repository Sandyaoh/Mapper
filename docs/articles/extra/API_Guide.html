<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mapper API Guide • Mapper</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Mapper API Guide">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">Mapper</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Package under development">0.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/Mapper.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/UsingCustomCover.html">Using a custom covering method</a>
    </li>
    <li>
      <a href="../../articles/extra/API_Guide.html">Mapper API Guide</a>
    </li>
    <li>
      <a href="../../articles/extra/VisualizingMapper.html">Tools for Visualizing Mappers</a>
    </li>
    <li>
      <a href="../../articles/extra/community.html">Community contributed use-cases</a>
    </li>
    <li>
      <a href="../../articles/extra/voting_mm.html">R Notebook</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">News</a>
</li>
<li>
  <a href="../../articles/extra/community.html">User contributed</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/peekxc/Mapper">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Mapper API Guide</h1>
                        <h4 class="author">Matt Piekenbrock</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/peekxc/Mapper/blob/master/vignettes/extra/API_Guide.Rmd"><code>vignettes/extra/API_Guide.Rmd</code></a></small>
      <div class="hidden name"><code>API_Guide.Rmd</code></div>

    </div>

    
    
<p>The primary goal of the <em>Mapper</em> package is to provide an interface to the Mapper method that is both comprehensive and accessible, where ‘comprehensive’ means the user has full control over every component of the construction process and ‘accessible’ means easy to use, even for users unfamiliar with Mapper.</p>
<p>A <em>mapper</em> can be constructed using the <a href="#MapperRef">MapperRef</a> <a href="https://github.com/r-lib/R6">R6</a> class generator, via the <code>new</code> operator, as described below.</p>
<p><em>mapper</em> &lt;- <em>MapperRef</em> $ <strong>new</strong>( )</p>
<p>Parameterizing the <em>mapper</em> instance further follows the general syntax:</p>
<ol style="list-style-type: decimal">
<li><p><em>mapper</em> $ <strong>use_[component_name]</strong> ( <em>component, [params]</em> )</p></li>
<li><p><em>mapper</em> $ <strong>[component_name]</strong> &lt;- <em>component</em></p></li>
</ol>
<p>where <em>component_name</em> is the name of one of Mappers <a href="#Components">components</a> and <em>component</em> is either:</p>
<ol style="list-style-type: decimal">
<li>a <em>string</em> choosing from one of the pre-configured default components</li>
<li>a <em>function</em> which returns the <em>component</em> itself.</li>
<li>a <em>component</em> of the correct type.</li>
</ol>
<p>If (1) is specified, <em>params</em> are additional named parameters which are used to configure how the component is parameterized. If (2) is specified, the <em>function</em> is stored.</p>
<div id="api-reference" class="section level2">
<h2 class="hasAnchor">
<a href="#api-reference" class="anchor"></a>API Reference</h2>
<p><a href="#MapperRef" id="MapperRef" class="anchor" aria-hidden="true">#</a> <strong>MapperRef</strong></p>
<p><a href="">MapperRef</a> <a href="">R6</a> class generator.</p>
<p><em>MapperRef</em> $ <strong>new</strong>(<em>X</em>)</p>
<p>A <em>mapper</em> can be constructed using the <a href="">MapperRef</a> <a href="">R6</a> class generator, via the <code>new</code> operator.</p>
<h3>
<a style="color: black; text-decoration: none;" href="#Components" id="Components" class="anchor" aria-hidden="true">Components</a>
</h3>
<p><em>mapper</em> components are stored as functions bound to <a href="">active bindings</a>.</p>
<p><a href="#data" id="data" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>data</strong></p>
<p>The <strong>data</strong> field represents the input point cloud that the <em>mapper</em> produces a summary of.</p>
<p><strong>data</strong> is an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/bindenv.html">actively bound</a> function with the signature:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="cf">function</span>(idx, ...)</a></code></pre></div>
<p>If <code>idx</code> is specified, <strong>data</strong> returns a <code>matrix</code> with exactly <code><a href="https://www.rdocumentation.org/packages/base/topics/length">length(idx)</a></code> rows corresponding to the subset of the data set with the given indices. If <code>idx</code> is not specified, returns the full data set.</p>
<p>One of the motivations for storing the <strong>data</strong> member as a function is to enable the <em>mapper</em> to be constructed using data sets too large to be processed completely in-memory. Intuitively, <em>mapper</em> only needs access to to subsets of the data (as determined by the <a href="#cover">cover</a>) at a time during the construction process. By using a function, the means of accessing these subsets (e.g. via a database connection) can be completely up to the user.</p>
<p>The <strong>data</strong> field can be set with either the traditional assignment operator <code>&lt;-</code> or with <a href="#use_data">use_data</a>.</p>
<p><a href="#filter" id="filter" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>filter</strong></p>
<p>The <strong>filter</strong> field represents the map defined on the <a href="#data">data</a> that is used to generate the <em>mapper</em> construction.</p>
<p><strong>filter</strong> is an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/bindenv.html">actively bound</a> function with the signature:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="cf">function</span>(idx, ...)</a></code></pre></div>
<p>If <code>idx</code> is specified, <strong>filter</strong> returns a <code>matrix</code> with exactly <code><a href="https://www.rdocumentation.org/packages/base/topics/length">length(idx)</a></code> rows corresponding to the subset of the data set with the given indices. If <code>idx</code> is not specified, returns the full data set.</p>
<p>If the choice of filter is particularly expensive, or its output depends on information computed from the entire <a href="#data">data</a> matrix, it’s recommended <a href="#use_filter">initialize the filter</a> with a matrix.</p>
<p><a href="#cover" id="cover" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>cover</strong> The <strong>cover</strong> field represents the <a href="https://en.wikipedia.org/wiki/Cover_(topology)">cover</a> equipped to the <a href="#filter">filter</a>.</p>
<p><strong>cover</strong> is a <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/bindenv.html">actively bound</a> <a href="https://peekxc.github.io/Mapper/reference/CoverRef.html">CoverRef</a>-derived object, which is an object having minimally:</p>
<ul>
<li>a unique <code>typename</code> (string)</li>
<li>an <code>index_set</code> (as a character vector)</li>
<li>an overridden <code>construct_cover</code> method</li>
</ul>
<p><a href="#measure" id="measure" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>measure</strong></p>
<p>The <strong>measure</strong> field represents the distance measure used by the <a href="#clustering_algorithm">clustering algorithm</a> to decompose the <a href="#pullback">pullback</a> cover into connected components.</p>
<p><strong>measure</strong> is an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/bindenv.html">actively bound</a> <a href="https://rdrr.io/cran/proxy/man/registry.html">proxy registry entry</a> which stores meta-information about the choice distance measure to use in decomposing the <a href="#data">data</a> into connected components.</p>
<p><a href="#clustering_algorithm" id="clustering_algorithm" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>clustering_algorithm</strong></p>
<p><strong>clustering_algorithm</strong> is an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/bindenv.html">actively bound</a> function with the signature:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="cf">function</span>(pid, idx, self, ...)</a></code></pre></div>
<p>where <code>pid</code> represents the <a href="#construct_pullback">pullback id</a>, <code>idx</code> a subset of the <a href="#data">data</a> to decompose, and <code>self</code> the instance object. <code>self</code> is passed to enable access to the parts of the instance object itself, e.g. <a href="#data">data matrix</a> and <a href="#measure">distance measure</a>. The additional parameters <code>...</code> can be supplied either by the user directly, during the <a href="#construct_pullback">pullback construction</a>, or cached parameters given during the <a href="#use_clustering_algorithm">initialization of the clustering algorithm</a>.</p>
<div id="specifying-components" class="section level4">
<h4 class="hasAnchor">
<a href="#specifying-components" class="anchor"></a>Specifying components</h4>
<p><a href="#use_data" id="use_data" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>use_data</strong>(<em>data</em>, <em>params</em>)</p>
<p>Sets the <strong>data</strong> to create the <em>mapper</em> with.</p>
<p>If <em>data</em> is a <span style="color:green">string</span>, <strong>data</strong> is set to one of the pre-installed data sets (see <code><a href="https://www.rdocumentation.org/packages/utils/topics/data">data(package="Mapper")</a></code>) matched by <em>data</em>. Additional <em>params</em> are unused.</p>
<p>If <em>data</em> is a <span style="color:orange">function</span>, its signature must be compatible with the above signature. Additional <em>params</em> are passed to <code>...</code>.</p>
<p>If <em>data</em> is a <span style="color:darkblue">matrix</span>, it is <a href="http://adv-r.had.co.nz/Functional-programming.html#closures">enclosed</a> as a function with the signature given above.</p>
</div>
<div id="filter-component" class="section level4">
<h4 class="hasAnchor">
<a href="#filter-component" class="anchor"></a>Filter component</h4>
<p><a href="#use_filter" id="use_filter" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>use_filter</strong>(<em>filter</em>, <em>params</em>)</p>
<p>If <em>filter</em> is a string, sets the <strong>filter</strong> field to one a pre-configured filter functions. Additional <em>params</em> are passed to the corresponding</p>
<p>If <em>filter</em></p>
<p>A full list of the available filters is available <a href="https://peekxc.github.io/Mapper/reference/use_filter.html">here</a>.</p>
<p><a href="#use_cover" id="use_cover" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>use_cover</strong></p>
<p><a href="#use_distance_measure" id="use_distance_measure" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>use_distance_measure</strong></p>
<p><a href="https://rdrr.io/cran/proxy/f/inst/doc/overview.pdf">proxy distance measures</a></p>
<details><p><summary>Example using custom distance measure</summary></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">mydist &lt;-<span class="st"> </span><span class="cf">function</span>(x,y) { <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/MathFun">sqrt</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>((x <span class="op">-</span><span class="st"> </span>y)<span class="op">^</span><span class="dv">2</span>)) }</a></code></pre></div>
</details><p><a href="#use_clustering_algorithm" id="use_clustering_algorithm" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>use_clustering_algorithm</strong></p>
<h3>
<a style="color: black; text-decoration: none;" href="#Construction" id="Construction" class="anchor" aria-hidden="true">Construction</a>
</h3>
<p><a href="#construct_pullback" id="construct_pullback" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>construct_pullback</strong></p>
<p><a href="#construct_nerve" id="construct_nerve" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>construct_nerve</strong></p>
<p><a href="#construct_k_skeleton" id="construct_k_skeleton" class="anchor" aria-hidden="true">#</a> <em>MapperRef</em> $ <strong>construct_k_skeleton</strong></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#api-reference">API Reference</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Matt Piekenbrock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
