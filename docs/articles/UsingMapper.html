<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the Mapper package • Mapper</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the Mapper package">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Mapper</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased package">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/UsingCustomCover.html">Using a custom covering method</a>
    </li>
    <li>
      <a href="../articles/UsingMapper.html">Using the Mapper package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="UsingMapper_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="UsingMapper_files/grapher-1.3.2/grapher.min.js"></script><script src="UsingMapper_files/grapher-1.3.2/zoom.min.js"></script><script src="UsingMapper_files/grapher-1.3.2/center.min.js"></script><script src="UsingMapper_files/grapher-1.3.2/target.min.js"></script><script src="UsingMapper_files/grapher-1.3.2/grapher_helpers.js"></script><script src="UsingMapper_files/grapher-1.3.2/lasso.js"></script><script src="UsingMapper_files/d3-4.9.1/d3.min.js"></script><script src="UsingMapper_files/d3-4.9.1/d3-timer.min.js"></script><script src="UsingMapper_files/lodash-4.17.10/lodash.min.js"></script><script src="UsingMapper_files/jquery-3.3.1/jquery-3.3.1.min.js"></script><script src="UsingMapper_files/grapher-binding-1.0/grapher.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Using the Mapper package</h1>
                        <h4 class="author">Matt Piekenbrock</h4>
            
      
      
      <div class="hidden name"><code>UsingMapper.Rmd</code></div>

    </div>

    
    
<p>Consider a noisy sampling of points along the perimeter of a circle in <span class="math inline">\(\mathbb{R}^2\)</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">1234</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">## Generate noisy points around the perimeter of a circle </span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">n &lt;-<span class="st"> </span><span class="dv">1500</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">t &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>pi<span class="op">*</span><span class="kw">runif</span>(n)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">r &lt;-<span class="st"> </span><span class="kw">runif</span>(n, <span class="dt">min =</span> <span class="dv">2</span>, <span class="dt">max =</span> <span class="fl">2.1</span>)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">noisy_circle &lt;-<span class="st"> </span><span class="kw">cbind</span>(r<span class="op">*</span><span class="kw">cos</span>(t), r<span class="op">*</span><span class="kw">sin</span>(t))</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">## Plot the circle</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw">plot</span>(noisy_circle, <span class="dt">pch =</span> <span class="dv">20</span>, <span class="dt">asp =</span> <span class="dv">1</span>, <span class="dt">xlab =</span> <span class="st">"X"</span>, <span class="dt">ylab =</span> <span class="st">"Y"</span>, <span class="dt">main =</span> <span class="st">"Circle"</span>)</a></code></pre></div>
<p><img src="UsingMapper_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<!-- To get the mapper of this circle, first supply the data via the `X` parameter and the filtered values via the  -->
<!-- `filter_values` argument, e.g. `mapper(X = circ, filter_values = f_x, ...)`. `Mapper` dispatches additional parameters passed in `...` to other methods to further configure the construction. See `?mapper` for more details. To use a primitive multidimensional, 'hyper-rectangular' cover, supply the `number_intervals` and `overlap` parameters. A summary is available with the default print method.  -->
<!-- ```{r} -->
<!-- m <- Mapper::mapper(X = noisy_circle, filter_values = f_x, number_intervals = 5, overlap = 0.20) -->
<!-- m -->
<!-- ``` -->
<!-- By default, the core information of the $1$-skeleton of the `Mapper` construction is returned, including: -->
<!--   1. The vertices of the topological graph, and the indices of the points contained within each vertex -->
<!--   2. The adjacency matrix of the topological graph.  -->
<!--   3. The index set of the cover, and the indices of the vertices they contain in each level set. -->
<!-- This is, in the simplest case, all of the central information one needs prior to doing a more in-depth analysis.  -->
<div id="interactively-building-the-mapper" class="section level2">
<h2 class="hasAnchor">
<a href="#interactively-building-the-mapper" class="anchor"></a>Interactively building the Mapper</h2>
<!-- For most use-cases, the static method above is sufficient for getting a compact Mapper construction back. However, building the 'right' Mapper may be an interactive process, requiring parameter tuning, exploring alternative filter functions, tweaking clustering algorithms, etc. For large data sets, this iterative fitting process can be prohibitively expensive.  -->
<p>Internally, Mapper uses <code>R6</code> classes to efficiently compute the simplicial complex. One of the nice benefits of R6 is that it allows <a href="https://adv-r.hadley.nz/R6.html#method-chaining">method chaining</a>. To demonstrate this, consider a very simplified interpretation of the Mapper pipeline: 1. “Filter” the data via a reference map 2. Equip the filter space with a cover 3. Construct the <em>k</em>-skeleton <!-- If more information is required beyond the static construction, the `return_reference` parameter may be set to `TRUE` to access the underlying `MapperRef` object. This is useful in situations where each step of the mapper framework needs fine-tuned, e.g. where the construction is requested under multiple parameter settings.   --></p>
<p>These steps are demonstrated below using the <code>noisy_circle</code> data set above with the <code>Mapper</code> package.</p>
<p>The first step is to create a <em>filter</em> of the data. Below is an example of a very simple filter mentioned in the original paper that builds the mapper by looking at the distance from every point <span class="math inline">\(x\)</span> to the point with left-most coordinate, <span class="math inline">\(p\)</span>, i.e.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co">## 1. Specify a filter function for the data </span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">left_pt &lt;-<span class="st"> </span>noisy_circle[<span class="kw">which.min</span>(noisy_circle[, <span class="dv">1</span>]),]</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">f_x &lt;-<span class="st"> </span><span class="kw">apply</span>(noisy_circle, <span class="dv">1</span>, <span class="cf">function</span>(pt) (pt <span class="op">-</span><span class="st"> </span>left_pt)[<span class="dv">1</span>])</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co">## Bin the data onto a sufficiently high-resolution rainbow gradient from blue (low) to red (high)</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">rbw_pal &lt;-<span class="st"> </span><span class="kw">rev</span>(<span class="kw">rainbow</span>(<span class="dv">100</span>, <span class="dt">start =</span> <span class="dv">0</span>, <span class="dt">end =</span> <span class="dv">4</span><span class="op">/</span><span class="dv">6</span>))</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">binned_idx &lt;-<span class="st"> </span><span class="kw">cut</span>(f_x, <span class="dt">breaks =</span> <span class="dv">100</span>, <span class="dt">labels =</span> F)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw">plot</span>(noisy_circle, <span class="dt">pch =</span> <span class="dv">20</span>, <span class="dt">asp =</span> <span class="dv">1</span>, <span class="dt">col =</span> rbw_pal[binned_idx], <span class="dt">xlab =</span> <span class="st">"X"</span>, <span class="dt">ylab =</span> <span class="st">"Y"</span>, <span class="dt">main =</span> <span class="st">"Circle"</span>)</a></code></pre></div>
<p><img src="UsingMapper_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div id="building-the-cover" class="section level3">
<h3 class="hasAnchor">
<a href="#building-the-cover" class="anchor"></a>Building the cover</h3>
<p>Once the filter function has been applied to the data, a cover must be constructed over the function values. Here, a simple rectangular cover with fixed centers is used.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co">## 2. Create cover of the filter space</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">rec_cover &lt;-<span class="st"> </span>FixedRectangularCover<span class="op">$</span><span class="kw">new</span>(<span class="dt">filter_values =</span> f_x)</a></code></pre></div>
<p>The only required argument is the filter point values themselves; cover-specific parameters may optionally be supplied at initialization, or set via assignment.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">rec_cover<span class="op">$</span>number_intervals &lt;-<span class="st"> </span>5L</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">rec_cover<span class="op">$</span>percent_overlap &lt;-<span class="st"> </span><span class="fl">0.20</span></a></code></pre></div>
<p>If you supply a single value when the filter dimensionality <span class="math inline">\(&gt; 1\)</span>, the argument is recycled. The cover summary can be printed as follows:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">print</span>(rec_cover)</a></code></pre></div>
<pre><code>## Cover: (typename = Fixed Rectangular, number intervals = [5], percent overlap = [0.2]%)</code></pre>
<p>Once parameterized, the cover may be explicitly constructed via the <code>construct_cover</code> member function before sending to Mapper. The <code>construct_cover</code> function uses the given set of parameters to populate the intersection between the open sets in the cover and the given filter data. If not explicity called, the cover will be constructed when the Mapper reference is made. <code>Mapper</code> accepts any cover that is a valid <code>CoverRef</code> R6 class. If you want to use a cover outside of the ones offers by the package, feel free to derive a new type cover class (and consider submitting a pull request!).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co">## 3.  Apply a partial clustering to the data subsets indexed by the cover </span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">m &lt;-<span class="st"> </span>Mapper<span class="op">::</span>MapperRef<span class="op">$</span><span class="kw">new</span>(noisy_circle)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">m<span class="op">$</span>cover &lt;-<span class="st"> </span>rec_cover<span class="op">$</span><span class="kw">construct_cover</span>()</a></code></pre></div>
<p>The final step to create a Mapper is to construct the <em>k</em>-skeleton. This step requires a different set of procedures, based on <em>k</em>.</p>
</div>
<div id="building-the-0-skeleton" class="section level3">
<h3 class="hasAnchor">
<a href="#building-the-0-skeleton" class="anchor"></a>Building the 0-skeleton</h3>
<p>Since the definition of a <em>k</em>-skeleton is inductive, the first step is to construct the <span class="math inline">\(0\)</span>-skeleton. This amounts to applying a partial clustering over [subsets of] the data within a given metric space, indexed by the level sets given by cover. The choice of clustering algorithm, metric, hyper-parameters, etc. is completely up to the user–the only requirement is that the function take as input at least the data <code>X</code> and a vector of indices <code>idx</code><span class="math inline">\(\subset \{1, 2, \dots, n\}\)</span> and return an integer vector giving a partitioning on the subset <code>idx</code> of the data <code>X</code>. An example of using a custom clustering function using the <code>parallelDist</code> and <code>fastcluster</code> packages is given below, wherein the [single linkage criterion] is used to build a cluster hierarchy, and then a histogram-based heuristic is used to set the <a href="?stats::cutree">cut value</a>. The heuristic is similar to the idea discussed in Section 3.1 of the original Mapper paper.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">{ <span class="kw">require</span>(<span class="st">"parallelDist"</span>, <span class="dt">warn.conflicts =</span> <span class="ot">FALSE</span>); <span class="kw">require</span>(<span class="st">"fastcluster"</span>, <span class="dt">quietly =</span> <span class="ot">TRUE</span>, <span class="dt">warn.conflicts =</span> <span class="ot">FALSE</span>) }</a></code></pre></div>
<pre><code>## Loading required package: parallelDist</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">custom_clustering_f &lt;-<span class="st"> </span><span class="cf">function</span>(X, idx, num_bins){</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">  dist_x &lt;-<span class="st"> </span>parallelDist<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/parallelDist/topics/parDist">parallelDist</a></span>(X[idx,], <span class="dt">method =</span> <span class="st">"euclidean"</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">  hcl &lt;-<span class="st"> </span>fastcluster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/fastcluster/topics/hclust">hclust</a></span>(dist_x, <span class="dt">method =</span> <span class="st">"single"</span>)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">  <span class="kw"><a href="../reference/cutoff_first_bin.html">cutoff_first_bin</a></span>(hcl, <span class="dt">num_bins =</span> num_bins)</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">m<span class="op">$</span>clustering_algorithm &lt;-<span class="st"> </span>custom_clustering_f</a></code></pre></div>
<p>The user may alternatively choose from the list of widely-supported linkage criteria and distance measures used in hierarchical clustering with the <code>set_clustering_algorithm</code> and <code>set_distance_measure</code> functions, respectively.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">m<span class="op">$</span><span class="kw"><a href="../reference/use_clustering_algorithm.html">use_clustering_algorithm</a></span>(<span class="dt">cl =</span> <span class="st">"single"</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">m<span class="op">$</span><span class="kw">use_distance_measure</span>(<span class="dt">measure =</span> <span class="st">"euclidean"</span>)</a></code></pre></div>
<p>For a complete list of the available linkage criteria and distance/similarity measures, see <code><a href="http://www.rdocumentation.org/packages/stats/topics/hclust">?stats::hclust</a></code> and <code><a href="http://www.rdocumentation.org/packages/proxy/topics/registry">?proxy::pr_DB</a></code>, respectively.</p>
<p>Once these have been set, the <span class="math inline">\(0\)</span>-skeleton is computed with the <code>compute_vertices</code> function. All parameters passed to <code>compute_vertices</code> are passed via <code>...</code> as hyper-parameters to the clustering algorithm.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">m<span class="op">$</span><span class="kw"><a href="../reference/compute_vertices.html">compute_vertices</a></span>(<span class="dt">num_bins =</span> 10L)</a></code></pre></div>
<p>The parameters of these functions may be fine-tuned to allow adjusting only specific parts of the skeleton at a time.</p>
</div>
<div id="building-the-1-skeleton" class="section level3">
<h3 class="hasAnchor">
<a href="#building-the-1-skeleton" class="anchor"></a>Building the 1-skeleton</h3>
<p>The <span class="math inline">\(1\)</span>-skeleton is computed analogously.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">m<span class="op">$</span><span class="kw">compute_edges</span>()</a></code></pre></div>
<p>Generally, this is sufficient. However, if the user wishes too, the <span class="math inline">\(k\)</span>-skeleton for any <span class="math inline">\(k &gt; 1\)</span> can also be computed.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">m<span class="op">$</span><span class="kw"><a href="../reference/compute_k_skeleton.html">compute_k_skeleton</a></span>(<span class="dt">k =</span> 1L)</a></code></pre></div>
<p>All the methods can chained.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">m &lt;-<span class="st"> </span>MapperRef<span class="op">$</span><span class="kw">new</span>(noisy_circle)<span class="op">$</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw">use_cover</span>(<span class="dt">filter_values =</span> <span class="kw">matrix</span>(f_x), <span class="dt">type =</span> <span class="st">"fixed rectangular"</span>, </a>
<a class="sourceLine" id="cb16-3" data-line-number="3">            <span class="dt">number_intervals =</span> 5L, <span class="dt">percent_overlap =</span> <span class="fl">0.20</span>)<span class="op">$</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/use_clustering_algorithm.html">use_clustering_algorithm</a></span>(<span class="dt">cl =</span> <span class="st">"single"</span>, <span class="dt">num_bins =</span> <span class="dv">10</span>)<span class="op">$</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="st">  </span><span class="kw">use_distance_measure</span>(<span class="dt">measure =</span> <span class="st">"euclidean"</span>)<span class="op">$</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="../reference/compute_vertices.html">compute_vertices</a></span>()<span class="op">$</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="st">  </span><span class="kw">compute_edges</span>()</a></code></pre></div>
<p>The output of Mapper is a simplicial complex, or in the simplest case (when <span class="math inline">\(k = 1\)</span>), a topological graph. Internally, the complex is stored in a <a href="https://hal.inria.fr/hal-00707901v1/document">Simplex Tree</a>. The underlying simplex tree is exported as an <a href="https://cran.r-project.org/web/packages/Rcpp/vignettes/Rcpp-modules.pdf">Rcpp Module</a>, and is accessible via the <code>$simplicial_complex</code> member.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">m<span class="op">$</span>simplicial_complex</a></code></pre></div>
<pre><code>## Simplex Tree with (8, 1) (0, 1)-simplices</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">m<span class="op">$</span>simplicial_complex<span class="op">$</span><span class="kw">print_tree</span>()</a></code></pre></div>
<pre><code>## 0 (h = 0): 
## 1 (h = 0): 
## 2 (h = 0): 
## 3 (h = 1): .( 6 )
## 4 (h = 0): 
## 5 (h = 0): 
## 6 (h = 0): 
## 7 (h = 0):</code></pre>
</div>
<div id="visualizing-the-mapper" class="section level3">
<h3 class="hasAnchor">
<a href="#visualizing-the-mapper" class="anchor"></a>Visualizing the Mapper</h3>
<p>The <code>grapher</code> package provides a <a href="https://www.htmlwidgets.org/">htmlwidget</a> implementation of Ayasdi’s Apache-licensed <a href="https://github.com/ayasdi/grapher">grapher</a> library, which can be used to visualize the Mapper network, with options to support nice things like <a href="https://github.com/d3/d3-force">D3 force</a>. The <code>$as_grapher</code> function provides a few default coloring and sizing options.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">library</span>(<span class="st">"grapher"</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">m<span class="op">$</span><span class="kw"><a href="../reference/as_grapher.html">as_grapher</a></span>()</a></code></pre></div>
<canvas id="htmlwidget-4f26eefa72a7f0d30d01" class="grapher html-widget" style="width:700px;height:432.632880098888px;"></canvas><script type="application/json" data-for="htmlwidget-4f26eefa72a7f0d30d01">{"x":{"net":{"nodes":[{"id":0,"x":0.7271,"y":0,"r":15,"color":"rgba(0,0,255,255.00)"},{"id":1,"x":0,"y":0.7014,"r":10.7277,"color":"rgba(0,255,252,255.00)"},{"id":2,"x":0.5477,"y":0.531,"r":10.7558,"color":"rgba(0,255,252,255.00)"},{"id":3,"x":0.2436,"y":0.0452,"r":10.6708,"color":"rgba(0,255,15,255.00)"},{"id":4,"x":0.833,"y":0.8846,"r":10,"color":"rgba(5,255,0,255.00)"},{"id":5,"x":0.3531,"y":1,"r":10.7277,"color":"rgba(242,255,0,255.00)"},{"id":6,"x":0.0698,"y":0.2148,"r":10.6128,"color":"rgba(232,255,0,255.00)"},{"id":7,"x":1,"y":0.3956,"r":14.9786,"color":"rgba(255,0,0,255.00)"}],"links":[{"from":3,"to":6,"color":"#6CFF00"}]},"api":[],"use_webgl":true},"evals":[],"jsHooks":[]}</script><p>To customize the visualization, refer to graphers <a href="">documentation</a>.</p>
</div>
<div id="accessing-other-members" class="section level3">
<h3 class="hasAnchor">
<a href="#accessing-other-members" class="anchor"></a>Accessing other members</h3>
<p>The full help pages for are accessible via the <code><a href="../reference/MapperRef.html">?MapperRef</a></code> page or the additional reference pages on the documentation website.</p>
<p>Below is a brief summary:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">str</span>(m<span class="op">$</span>cover<span class="op">$</span>filter_values)          <span class="co">## filter values used to build the cover </span></a></code></pre></div>
<pre><code>##  num [1:1500, 1] 3.644 0.615 0.51 0.611 3.439 ...</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">str</span>(m<span class="op">$</span>cover<span class="op">$</span>index_set)              <span class="co">## index set of the cover </span></a></code></pre></div>
<pre><code>##  chr [1:5] "(1)" "(2)" "(3)" "(4)" "(5)"</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">str</span>(m<span class="op">$</span>cover<span class="op">$</span>level_sets)             <span class="co">## level set point memberships</span></a></code></pre></div>
<pre><code>## List of 5
##  $ (1): int [1:436] 2 3 4 6 10 12 27 31 34 41 ...
##   ..- attr(*, "bounds")= num [1:2] -0.000841 0.839663
##  $ (2): int [1:221] 9 11 15 17 21 22 33 42 43 45 ...
##   ..- attr(*, "bounds")= num [1:2] 0.838 1.678
##  $ (3): int [1:195] 8 13 18 20 25 32 36 38 49 50 ...
##   ..- attr(*, "bounds")= num [1:2] 1.68 2.52
##  $ (4): int [1:216] 16 19 23 26 29 35 37 40 55 59 ...
##   ..- attr(*, "bounds")= num [1:2] 2.52 3.36
##  $ (5): int [1:433] 1 5 7 14 24 28 30 39 51 61 ...
##   ..- attr(*, "bounds")= num [1:2] 3.35 4.19</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">str</span>(<span class="kw">args</span>(m<span class="op">$</span>clustering_algorithm))   <span class="co">## function used to perform the partial clustering </span></a></code></pre></div>
<pre><code>## function (X, idx, num_bins = num_bins.default)</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#interactively-building-the-mapper">Interactively building the Mapper</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Matt Piekenbrock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
