<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Topological Data Analysis using Mapper • Mapper</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Topological Data Analysis using Mapper">
<meta property="og:description" content="An efficient implementation of the Mapper algorithm, and other related algorithms and tools used in Topological Data Analysis. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Mapper</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/Mapper.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/UsingCustomCover.html">Using a custom covering method</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="r-implementation-of-mapper" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#r-implementation-of-mapper" class="anchor"></a>R implementation of Mapper</h1></div>

<p>The <strong>Mapper</strong> package provides a configurable implementation of the Mapper framework (see 1). The package includes:</p>
<p><img src="reference/figures/mapper_logo.png" width="150" style="margin-left: 15px;" align="right"></p>
<ul>
<li><p>Efficient <a href="https://github.com/r-lib/R6">R6 class generators</a> for several of Mappers components</p></li>
<li><p>An expressive interface to customize Mapper components via <a href="https://adv-r.hadley.nz/r6.html#method-chaining">method chaining</a></p></li>
<li><p>Pre-configured defaults and built-in tools for people unfamiliar with Mapper</p></li>
<li><p>Several choices for visualizing and interacting with <em>mappers</em></p></li>
<li><p>Options to export the <span class="math inline">\(1\)</span>-skeleton to any graph-based representation</p></li>
</ul>
<p>The package was designed to make modifying or extending the Mapper method simple and efficient, without limiting its generality.</p>
<div id="getting-started" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h3>
<div id="installation" class="section level4">
<h4 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h4>
<p>Install the <strong>Mapper</strong> package from github as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">require</a></span>(<span class="st">"devtools"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"peekxc/mapper"</span>)</a></code></pre></div>
<p>A CRAN release is planned for the near future.</p>
</div>
<div id="creating-a-complex" class="section level4">
<h4 class="hasAnchor">
<a href="#creating-a-complex" class="anchor"></a>Creating a complex</h4>
<p>Mapper takes as input a point cloud <span class="math inline">\(X\)</span> and a reference map <span class="math inline">\(f : X \to Z\)</span>, and returns a topological summary of <span class="math inline">\(X\)</span> expressed via a cover equipped on the codomain of the map. Here’s an example where points are sampled from an ‘eight-curve’ in <span class="math inline">\(\mathbb{R}^2\)</span>:</p>
<p><span class="math display">\[g(t) = [\cos(t), \sin(t)\cos(t)],\; t \in \Big(-\frac{1}{2}\pi, \frac{3}{2}\pi\Big)\]</span> In the example below, <span class="math inline">\(X\)</span> is created from equally spaced samples over <span class="math inline">\(t\)</span>, and the map chosen is simply the <span class="math inline">\(x\)</span>-coordinate of the shape, <span class="math inline">\(Z = f(X) = x_1\)</span>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>pi, (<span class="dv">3</span><span class="op">/</span><span class="dv">2</span>)<span class="op">*</span>pi, <span class="dt">length.out =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">eight &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(<span class="dt">x1=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Trig">cos</a></span>(t), <span class="dt">x2=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Trig">sin</a></span>(t)<span class="op">*</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Trig">cos</a></span>(t))</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">f_x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Trig">cos</a></span>(t))</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">## Use a rainbow palette </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">rbw_col &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/grDevices/topics/palettes">rainbow</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(f_x), <span class="dt">start =</span> <span class="dv">0</span>, <span class="dt">end =</span> <span class="dv">4</span><span class="op">/</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">col &lt;-<span class="st"> </span>rbw_col[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cut">cut</a></span>(f_x, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(f_x), <span class="dt">labels =</span> <span class="ot">FALSE</span>)]</a>
<a class="sourceLine" id="cb2-8" data-line-number="8"></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">## View the data along with the mapping </span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/layout">layout</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">nrow =</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(eight, <span class="dt">pch =</span> <span class="dv">20</span>, <span class="dt">col =</span> col, <span class="dt">main =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/expression">expression</a></span>(X <span class="op">%subset%</span><span class="st"> </span>R<span class="op">^</span><span class="dv">2</span>))</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/stripchart">stripchart</a></span>(f_x, <span class="dt">pch =</span> <span class="st">"|"</span>, <span class="dt">main =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/expression">expression</a></span>(<span class="kw">f</span>(X) <span class="op">%subset%</span><span class="st"> </span>R)) </a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/points">points</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(f_x, <span class="dv">1</span>), <span class="dt">pch =</span> <span class="st">"|"</span>, <span class="dt">col =</span> col, <span class="dt">cex =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="reference/figures/figure_eight.png" width="100%"></p>
<p>Below is a possible way to construct a <em>mapper</em>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">Mapper construction <span class="cf">for</span> <span class="dv">100</span> objects</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">Cover<span class="op">:</span><span class="st"> </span>(<span class="dt">typename =</span> Restrained Rectangular, number <span class="dt">intervals =</span> [<span class="dv">10</span>], <span class="dt">overlap =</span> [<span class="dv">50</span>])</a></code></pre></div>
<p>There are multiple options one may use to visualize <strong>mapper</strong>. The easiest is to export the <span class="math inline">\(1\)</span>-skeleton to a mature graph plotting library, such as <code>igraph</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">am &lt;-<span class="st"> </span>m<span class="op">$</span>simplicial_complex<span class="op">$</span><span class="kw">as_adjacency_matrix</span>()</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">g &lt;-<span class="st"> </span>igraph<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/igraph/topics/graph_from_adjacency_matrix">graph_from_adjacency_matrix</a></span>(am, <span class="dt">mode =</span> <span class="st">"undirected"</span>, <span class="dt">add.colnames =</span> <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(g, <span class="dt">vertex.size =</span> 8L, <span class="dt">vertex.color =</span> <span class="kw"><a href="reference/bin_color.html">bin_color</a></span>(), <span class="dt">label.cex =</span> <span class="fl">0.3</span>)</a></code></pre></div>
<p>For more interactive options, see the section below.</p>
</div>
<div id="customizing-mapper" class="section level4">
<h4 class="hasAnchor">
<a href="#customizing-mapper" class="anchor"></a>Customizing Mapper</h4>
<p>Almost any component of the Mapper method can be customized.</p>
<p>Want to change the metric? Pass any measure used in the <a href="https://cran.r-project.org/web/packages/proxy/index.html">proxy</a> package.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co">## See ?proxy::pr_DB for more details.</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">m<span class="op">$</span><span class="kw">use_distance_measure</span>(<span class="st">"Mahalanobis"</span>)</a></code></pre></div>
<p>Or just replace the clustering algorithm entirely</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co">## If using a custom metric, just compute the distance matrix </span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">m<span class="op">$</span>clustering_algorithm &lt;-<span class="st"> </span><span class="cf">function</span>(X, idx, <span class="dt">num_bins=</span><span class="dv">10</span>){</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">  dist_x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/dist">dist</a></span>(X[idx,], <span class="dt">method =</span> <span class="st">"manhattan"</span>)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  hc &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/hclust">hclust</a></span>(dist_x, <span class="dt">method =</span> <span class="st">"average"</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">  <span class="kw"><a href="reference/cutoff_first_bin.html">cutoff_first_bin</a></span>(hc, <span class="dt">diam =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">max</a></span>(dist_x), num_bins)</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">}</a></code></pre></div>
<p>If you prefer a different covering, just assign a valid object inheriting from <code>CoverRef</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co">## Below is equivalent to m$use_cover(filter_values = f_x, typename="fixed rectangular", &lt;parameters&gt;)</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">f_cover &lt;-<span class="st"> </span>FixedRectangularCover<span class="op">$</span><span class="kw">new</span>(<span class="dt">filter_values =</span> f_x)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">f_cover<span class="op">$</span>number_intervals &lt;-<span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">f_cover<span class="op">$</span>percent_overlap &lt;-<span class="st"> </span><span class="dv">50</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5">m<span class="op">$</span>cover &lt;-<span class="st"> </span>f_cover<span class="op">$</span><span class="kw">construct_cover</span>()</a></code></pre></div>
<p>A list of available covering methods can be printed as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="reference/covers_available.html">covers_available</a></span>()</a></code></pre></div>
<pre><code>## Typename:                    Generator:                         Parameters:                          
##  fixed rectangular            FixedRectangularCover              number_intervals, percent_overlap
##  restrained rectangular       RestrainedRectangularCover         number_intervals, percent_overlap
##  adaptive                     AdaptiveCover                      number_intervals, percent_overlap, quantile_method
##  ball                         BallCover                          epsilon</code></pre>
<p>Alternatively, you can create your own cover. See the article on <a href="articles/UsingCustomCover.html">how to make custom cover</a>.</p>
<p>The cover is composed of subsets of the data indexed by an <strong>index set</strong>, which can be used as keys into the cover itself</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(m<span class="op">$</span>cover<span class="op">$</span>index_set)</a></code></pre></div>
<pre><code>##  [1] "(1)"  "(2)"  "(3)"  "(4)"  "(5)"  "(6)"  "(7)"  "(8)"  "(9)"  "(10)"</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/all">all</a></span>(m<span class="op">$</span>cover<span class="op">$</span>index_set <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(m<span class="op">$</span>cover<span class="op">$</span>level_sets))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>This can be useful if you want to only update only part of the complex for some reason, e.g. recluster part of the data with different clustering parameters. For example, to recluster the subsets of the data associated with the first five indices, you can do:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">clustering_parameters &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">num_bins=</span>5L)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">m<span class="op">$</span><span class="kw"><a href="reference/compute_vertices.html">compute_vertices</a></span>(<span class="dt">which_levels =</span> m<span class="op">$</span>cover<span class="op">$</span>index_set[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], clustering_parameters)</a></code></pre></div>
<p>The same rule applies to computing the edges.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">idx_pairs &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/t">t</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/apply">apply</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/combn">combn</a></span>(<span class="dv">5</span>, <span class="dv">2</span>), <span class="dv">2</span>, <span class="cf">function</span>(ls_idx) { m<span class="op">$</span>cover<span class="op">$</span>index_set[ls_idx] }))</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">m<span class="op">$</span><span class="kw"><a href="reference/compute_edges.html">compute_edges</a></span>(<span class="dt">which_level_pairs =</span> idx_pairs)</a></code></pre></div>
<p>If the construction has too many edges, you could require the intersection size be above a certain threshold (default is 1). This isn’t technically part of Mappers definition, but could be useful in practical applications.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">m<span class="op">$</span><span class="kw"><a href="reference/compute_edges.html">compute_edges</a></span>(<span class="dt">min_weight =</span> <span class="dv">10</span>)</a></code></pre></div>
<p>The simplicial complex is available via the <code>$simplicial_complex</code> member, and the points in contained in each vertex is available via the <code>$vertices</code> member.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">m<span class="op">$</span>simplicial_complex</a></code></pre></div>
<pre><code>## Simplex Tree with (18, 16) (0, 1)-simplices</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(m<span class="op">$</span>vertices, <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## $`0`
##  [1] 63 64 65 66 67 68 69 70 71 72 73 74 75 76
## attr(,"level_set")
## [1] 1
## 
## $`1`
##  [1] 59 60 61 62 63 64 65 66 67 68
## attr(,"level_set")
## [1] 2</code></pre>
<p>As shown above, the complex is stored in a <a href="?simplex_tree">Simplex Tree</a> (see 2), and the vertices are stored as a list. Each vertex also has an attribute “level_set” denoting the index in the index set of the cover its associated with.</p>
<p>The <span class="math inline">\(1\)</span>-skeleton can be exported to any of the usual graph-type data structures.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">m<span class="op">$</span>simplicial_complex<span class="op">$</span><span class="kw">as_adjacency_matrix</span>()</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">m<span class="op">$</span>simplicial_complex<span class="op">$</span><span class="kw">as_adjacency_list</span>()</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">m<span class="op">$</span>simplicial_complex<span class="op">$</span><span class="kw">as_edge_list</span>()</a></code></pre></div>
</div>
</div>
<div id="visualizing-the-mapper" class="section level3">
<h3 class="hasAnchor">
<a href="#visualizing-the-mapper" class="anchor"></a>Visualizing the <strong>mapper</strong>
</h3>
<p>To get a quick overview of what the graph looks like, you can convert to an <a href="https://igraph.org/r/">igraph</a> object. By default, the vertices are sized logarithmically according to how many points they have in them and colored based on the mean value of the points <span class="math inline">\(f\)</span> values. Each vertex is given a label of the form “x:y” where ‘x’ denotes the vertex id, and ‘y’ denotes the number of points in the vertex.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(m<span class="op">$</span><span class="kw"><a href="reference/as_igraph.html">as_igraph</a></span>())</a></code></pre></div>
<p><img src="reference/figures/igraph_ex.png" width="70%" style="text-align: center;"></p>
<p>More more interactive plotting methods, the <strong>mapper</strong> can be converted to a <a href="">grapher</a> object.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co">## Visualize interactively w/ grapher</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(<span class="st">"grapher"</span>)</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">m<span class="op">$</span><span class="kw"><a href="reference/as_grapher.html">as_grapher</a></span>(<span class="dt">construct_widget =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/grapher/topics/center">center</a></span>()</a></code></pre></div>
<p><img src="reference/figures/figure_eight_grapher.png" width="90%" height="50%"></p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<ol style="list-style-type: decimal">
<li>Singh, Gurjeet, Facundo Mémoli, and Gunnar E. Carlsson. “Topological methods for the analysis of high dimensional data sets and 3d object recognition.” SPBG. 2007.</li>
<li>Boissonnat, Jean-Daniel, and Clément Maria. “The simplex tree: An efficient data structure for general simplicial complexes.” Algorithmica 70.3 (2014): 406-427. <!-- ## Sphere example  -->
</li>
</ol>
<!-- TODO --><!-- Show rgl + grapher shiny example to better demonstrate the concept of the pullback  --><!-- ```{r} --><!-- # xyz <- replicate(3L, rnorm(5000)) --><!-- # sphere <- t(apply(xyz, 1, function(x) x/norm(matrix(x), type="F"))) --><!-- # filter_pts <- sphere[, c(3, 1)] --><!-- #  --><!-- # sphere_mapper <- MapperRef$ --><!-- #   new(sphere)$ --><!-- #   use_cover(filter_pts, "fixed rectangular", number_intervals = 6, percent_overlap = 0.15)$ --><!-- #   use_distance_measure(measure = "euclidean") --><!-- # sphere_mapper$clustering_algorithm <- function(X, idx){ --><!-- #   rep(1L, length(idx)) --><!-- # } --><!-- #  --><!-- # sphere_mapper$compute_k_skeleton(k = 1L) --><!-- ``` --><!-- # ```{r} --><!-- # data("chemdiab", package="locfit") --><!-- # colnames(chemdiab) <- c("RelativeWeight", "FastingPlasmaGlucose", "ToleranceTestAUC",  --><!-- #                         "InsulinCurveAUC", "SteadyStatePlasmaGlucoseResponse",  --><!-- #                         "DiabetesClassification") --><!-- #  --><!-- # chem_ica <- ica::icafast(chemdiab[, 1:5], nc = 3) --><!-- #  --><!-- # m <- MapperRef$ --><!-- #   new(X = as.matrix(chemdiab[, 1:5]))$                                              --><!-- #   use_cover(filter_values = chem_ica$S,  --><!-- #             type = "restrained rectangular",  --><!-- #             number_intervals = 5, percent_overlap = 0.35)$ --><!-- #   use_distance_measure(measure = "euclidean")$ --><!-- #   use_clustering_algorithm(cl = "single", num_bins = 5L)$ --><!-- #   compute_k_skeleton(k = 1L) --><!-- #  --><!-- #  --><!-- #  --><!-- # with(chemdiab, { --><!-- #   matchlevels(DiabetesClassification) --><!-- # }) --><!-- #  --><!-- # m$as_grapher() %>% setNodeColor(color = ) --><!-- # ``` -->
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https://github.com/peekxc/mapper">https://​github.com/​peekxc/​mapper</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matt Piekenbrock <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/packge=mapper"><img src="https://www.r-pkg.org/badges/version/mapper" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://travis-ci.com/peekxc/mapper"><img src="https://travis-ci.com/peekxc/mapper.svg?token=Hx3A92eGgRqqiu1NfKUb&amp;branch=master" alt="Travis-CI Build Status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Matt Piekenbrock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
